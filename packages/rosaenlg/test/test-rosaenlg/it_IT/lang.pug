//- Copyright 2019 Ludan Stoeckl√©
//- SPDX-License-Identifier: Apache-2.0
-
  util.expected = `
    Gioielli: belli
    colore: verde
    peso: pesante

    mici
    boschi
    fughe

    una buona pizza grande e deliziosa
  `;

-
  let GIOIELLI = {bla: 'bla'};
  setRefGenderNumber(GIOIELLI, 'M', 'P');

t
  //- agreements
  l #[+value("gioiello", {number: GIOIELLI})] : #[+agreeAdj('bello', GIOIELLI)]
  l colore : #[+agreeAdj('verde', 'colore')]
  l peso : #[+agreeAdj('pesante', 'peso')]

  //- more agreements
  - let subjP = getAnonymous('M', 'P');
  each subst in ["micio", "bosco", "fuga"]
    l #[+value(subst, {number: subjP})]

  //- check default separator
  l #[+value('pizza', {det:'INDEFINITE', adj:{ BEFORE: ['buono'], AFTER: ['grande', 'delizioso'] } })]
